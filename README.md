# URL Shortener

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL-–∞–¥—Ä–µ—Å–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ ASP.NET Core 8.0 –∏ Angular 21.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

URL Shortener ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –∏–∑ –¥–ª–∏–Ω–Ω—ã—Ö URL-–∞–¥—Ä–µ—Å–æ–≤. –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ backend API –Ω–∞ ASP.NET Core –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ frontend –Ω–∞ Angular —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Server-Side Rendering (SSR).

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîó **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫** ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö URL –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–¥—ã
- üë§ **–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å –ª–æ–≥–∏–Ω–æ–º –∏ –ø–∞—Ä–æ–ª–µ–º
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫** ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö URL
- üîç **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–µ
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö URL (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞)
- ‚Ü©Ô∏è **–†–µ–¥–∏—Ä–µ–∫—Ç** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É –∫–æ–¥—É
- üîê **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫
- üìù **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (UrlShortener)
- **Framework**: ASP.NET Core 8.0
- **–ë–î**: SQL Server —Å Entity Framework Core
- **API**: RESTful API —Å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- **–ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è**: Base62 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ID –∑–∞–ø–∏—Å–∏

### Frontend (UrlShortener.Client)
- **Framework**: Angular 21
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**: Tailwind CSS
- **SSR**: Angular Universal –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- **HTTP –∫–ª–∏–µ–Ω—Ç**: RxJS –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –¢–µ—Å—Ç—ã (UrlShortener.Tests)
- **Framework**: xUnit
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: Unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**: FluentAssertions, Moq, Entity Framework InMemory

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [.NET SDK 8.0](https://dotnet.microsoft.com/download/dotnet/8.0)
- [Node.js](https://nodejs.org/) (–≤–µ—Ä—Å–∏—è 20.x –∏–ª–∏ –≤—ã—à–µ)
- [SQL Server](https://www.microsoft.com/sql-server/) –∏–ª–∏ SQL Server LocalDB
- [Angular CLI](https://angular.dev/tools/cli) (–≤–µ—Ä—Å–∏—è 21.x)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone https://github.com/Lazent/UrlShortener.git
   cd UrlShortener
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend**
   ```bash
   cd UrlShortener
   
   # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   dotnet restore
   
   # –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ appsettings.json –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LocalDB:
   # "Server=(localdb)\\mssqllocaldb;Database=UrlShortenerDb;Trusted_Connection=True"
   
   # –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   dotnet ef database update
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
   dotnet run
   ```
   
   Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `https://localhost:5001`
   
   Swagger UI: `https://localhost:5001/swagger`

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend**
   ```bash
   cd UrlShortener.Client
   
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   npm install
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ development —Å–µ—Ä–≤–µ—Ä
   npm start
   ```
   
   Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:4200`

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Backend

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cd UrlShortener
dotnet watch run

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
dotnet ef migrations add MigrationName

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
dotnet ef database update

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
cd ../UrlShortener.Tests
dotnet test
```

### Frontend

```bash
cd UrlShortener.Client

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm start

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
npm run build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test
```

## üì° API Endpoints

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ URL

- `GET /api/urls` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–æ—Ä–æ—Ç–∫–∏–µ URL
- `GET /api/urls/{id}` ‚Äî –ü–æ–ª—É—á–∏—Ç—å URL –ø–æ ID
- `POST /api/urls` ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ—Ä–æ—Ç–∫–∏–π URL
  ```json
  {
    "originalUrl": "https://example.com/very-long-url"
  }
  ```
- `DELETE /api/urls/{id}` ‚Äî –£–¥–∞–ª–∏—Ç—å URL (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

### –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- `GET /{shortCode}` ‚Äî –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /api/account/login` ‚Äî –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
  ```json
  {
    "login": "username",
    "password": "password"
  }
  ```
- `POST /api/account/register` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ Users
- `Id` (int) ‚Äî –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `Login` (string, max 50) ‚Äî –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PasswordHash` (string) ‚Äî –•–µ—à –ø–∞—Ä–æ–ª—è
- `IsAdmin` (bool) ‚Äî –§–ª–∞–≥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `CreatedAt` (datetime) ‚Äî –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –¢–∞–±–ª–∏—Ü–∞ ShortUrls
- `Id` (int) ‚Äî –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `OriginalUrl` (string, max 2000) ‚Äî –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL
- `ShortCode` (string, max 10) ‚Äî –ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–¥
- `CreatedAt` (datetime) ‚Äî –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `CreatedById` (int) ‚Äî ID —Å–æ–∑–¥–∞—Ç–µ–ª—è (Foreign Key ‚Üí Users)

## üîê –ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º **Base62** –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è ID –∑–∞–ø–∏—Å–µ–π –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–¥—ã:
- –ê–ª—Ñ–∞–≤–∏—Ç: `0-9a-zA-Z` (62 —Å–∏–º–≤–æ–ª–∞)
- ID –∑–∞–ø–∏—Å–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É –∏–∑ —ç—Ç–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ù–∞–ø—Ä–∏–º–µ—Ä: ID=1234 ‚Üí ShortCode="Ju"

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å—é ID
- –ö–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–¥—ã (–æ–±—ã—á–Ω–æ 2-6 —Å–∏–º–≤–æ–ª–æ–≤)
- URL-–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Backend —Ç–µ—Å—Ç—ã
cd UrlShortener.Tests
dotnet test

# Frontend —Ç–µ—Å—Ç—ã
cd UrlShortener.Client
npm test
```

## üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è Production

### Backend
```bash
cd UrlShortener
dotnet publish -c Release -o ./publish
```

### Frontend
```bash
cd UrlShortener.Client
npm run build
```

–°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `dist/url-shortener-client/`

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ö–µ—à–µ–π
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Angular –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ URL

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–æ–¥—ã
- [ ] –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–æ–∫
- [ ] QR-–∫–æ–¥—ã –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫
- [ ] –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è Pull Request'—ã! –î–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏—Ü–µ–Ω–∑–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è.

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

[Lazent](https://github.com/Lazent)

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –Ω–∞ .NET –∏ Angular
